{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\squal\\\\Desktop\\\\Dev_Projects\\\\GitPets\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\squal\\\\Desktop\\\\Dev_Projects\\\\GitPets\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\squal\\\\Desktop\\\\Dev_Projects\\\\GitPets\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\squal\\\\Desktop\\\\Dev_Projects\\\\GitPets\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\squal\\\\Desktop\\\\Dev_Projects\\\\GitPets\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Axios from\"axios\";import{Redirect}from\"react-router-dom\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",loginSuccess:false};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();console.log('logging in!');// this.setState({\n//     email: \"\", \n//     password: \"\"\n// });\nAxios.post(\"/api/login\",{username:_this.state.email,password:_this.state.password}).then(function(response){console.log(response);if(response.data===\"success\"){_this.setState({loginSuccess:true});console.log(\"in the if block\");}}).catch(function(error){console.log(error);});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){if(this.state.loginSuccess===true){return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(\"p\",null,\"Login to your account!\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputemail1\"},\"Email Address\"),/*#__PURE__*/React.createElement(\"input\",{value:this.state.email,name:\"email\",onChange:this.handleInputChange,type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"small\",{id:\"emailHelp\",class:\"form-text text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{value:this.state.password,name:\"password\",onChange:this.handleInputChange,type:\"password\",placeholder:\"Password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"bt btn-primary\",onClick:this.handleFormSubmit},\"Submit!\")));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Users/squal/Desktop/Dev_Projects/GitPets/client/src/components/Login/login.js"],"names":["React","Component","Axios","Redirect","Login","state","email","password","loginSuccess","handleInputChange","event","target","name","value","setState","handleFormSubmit","preventDefault","console","log","post","username","then","response","data","catch","error"],"mappings":"80BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAEMC,CAAAA,K,uTACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,CAEJC,QAAQ,CAAE,EAFN,CAGJC,YAAY,CAAE,KAHV,C,OAMRC,iB,CAAoB,SAAAC,KAAK,CAAI,mBACDA,KAAK,CAACC,MADL,CACjBC,IADiB,eACjBA,IADiB,CACXC,KADW,eACXA,KADW,CAGzB,MAAKC,QAAL,oBACKF,IADL,CACYC,KADZ,GAGH,C,OAEDE,gB,CAAmB,SAAAL,KAAK,CAAI,CACxBA,KAAK,CAACM,cAAN,GAEAC,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA;AACA;AACA;AACA;AAEAhB,KAAK,CAACiB,IAAN,CAAW,YAAX,CAAyB,CACrBC,QAAQ,CAAE,MAAKf,KAAL,CAAWC,KADA,CAErBC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAFA,CAAzB,EAIKc,IAJL,CAIU,SAACC,QAAD,CAAc,CAChBL,OAAO,CAACC,GAAR,CAAYI,QAAZ,EACA,GAAIA,QAAQ,CAACC,IAAT,GAAkB,SAAtB,CAAiC,CAC7B,MAAKT,QAAL,CAAc,CACVN,YAAY,CAAE,IADJ,CAAd,EAGAS,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACH,CACJ,CAZL,EAaCM,KAbD,CAaQ,SAASC,KAAT,CAAgB,CACpBR,OAAO,CAACC,GAAR,CAAYO,KAAZ,EACH,CAfD,EAgBH,C,wEAEI,CACL,GAAI,KAAKpB,KAAL,CAAWG,YAAX,GAA4B,IAAhC,CAAsC,CAClC,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CACH,CACD,mBACI,2BAAK,SAAS,CAAC,QAAf,eACI,sDADJ,cAII,4BAAM,SAAS,CAAC,MAAhB,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,GAAG,CAAC,oBAAX,kBADJ,cAII,6BACI,KAAK,CAAE,KAAKH,KAAL,CAAWC,KADtB,CAEI,IAAI,CAAC,OAFT,CAGI,QAAQ,CAAE,KAAKG,iBAHnB,CAII,IAAI,CAAC,MAJT,CAKI,WAAW,CAAC,OALhB,EAJJ,cAWI,6BAAO,EAAE,CAAC,WAAV,CAAsB,KAAK,CAAC,sBAA5B,mDAXJ,CADJ,cAkBI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,GAAG,CAAC,uBAAX,aADJ,cAII,6BACI,KAAK,CAAE,KAAKJ,KAAL,CAAWE,QADtB,CAEI,IAAI,CAAC,UAFT,CAGI,QAAQ,CAAE,KAAKE,iBAHnB,CAII,IAAI,CAAC,UAJT,CAKI,WAAW,CAAC,UALhB,EAJJ,CAlBJ,cAgCI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gBAAhC,CAAiD,OAAO,CAAE,KAAKM,gBAA/D,YAhCJ,CAJJ,CADJ,CA0CH,C,mBAxFmBd,S,EA2FpB,cAAeG,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { Redirect } from \"react-router-dom\"; \n\nclass Login extends Component {\n    state = {\n        email: \"\",\n        password: \"\", \n        loginSuccess: false\n    };\n\n    handleInputChange = event => {\n        const { name, value } = event.target;\n\n        this.setState({\n            [name]: value\n        });\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n\n        console.log('logging in!');\n        // this.setState({\n        //     email: \"\", \n        //     password: \"\"\n        // });\n\n        Axios.post(\"/api/login\", {\n            username: this.state.email,\n            password: this.state.password\n        })\n            .then((response) => {\n                console.log(response); \n                if (response.data === \"success\") {\n                    this.setState({\n                        loginSuccess: true\n                    })\n                    console.log(\"in the if block\"); \n                }\n            })\n        .catch (function(error) {\n            console.log(error);\n        });\n    };\n\nrender() {\n    if (this.state.loginSuccess === true) {\n        return <Redirect to=\"/profile\" />\n    }\n    return (\n        <div className=\"center\">\n            <p>\n                Login to your account!\n            </p>\n            <form className=\"form\">\n                <div className=\"form-group\">\n                    <label for=\"exampleInputemail1\">\n                        Email Address\n                    </label>\n                    <input\n                        value={this.state.email}\n                        name=\"email\"\n                        onChange={this.handleInputChange}\n                        type=\"text\"\n                        placeholder=\"Email\"\n                    />\n                    <small id=\"emailHelp\" class=\"form-text text-muted\">\n                        We'll never share your email with anyone else.\n                    </small>\n                    \n                </div>\n\n                <div className=\"form-group\">\n                    <label for=\"exampleInputPassword1\">\n                        Password\n                    </label>\n                    <input\n                        value={this.state.password}\n                        name=\"password\"\n                        onChange={this.handleInputChange}\n                        type=\"password\"\n                        placeholder=\"Password\"\n                    />\n\n                </div>\n\n                <button type=\"submit\" className=\"bt btn-primary\" onClick={this.handleFormSubmit}>Submit!</button>\n              \n            </form>\n        </div>\n    );\n}\n}\n\nexport default Login; "]},"metadata":{},"sourceType":"module"}