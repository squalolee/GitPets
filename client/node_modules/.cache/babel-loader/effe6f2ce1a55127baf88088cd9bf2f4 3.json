{"ast":null,"code":"import _defineProperty from\"/Users/napsche/Desktop/Class/Project3/GitPets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/napsche/Desktop/Class/Project3/GitPets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/napsche/Desktop/Class/Project3/GitPets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/napsche/Desktop/Class/Project3/GitPets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/napsche/Desktop/Class/Project3/GitPets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Axios from\"axios\";import Nav from\"../Nav/nav\";import Table from\"../Table/table\";var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={firstname:\"\",lastname:\"\",email:\"\",password:\"\",useravatar:\"\",favoritePet:[]};_this.componentWillMount=function(){Axios.get(\"/api/profile\").then(function(data){console.log(data.data);data.data.map(function(search){Axios.post(\"/api/profilesearch\",{searchid:search.searchid}).then(function(response){console.log(response);var tempArr=_this.state.favoritePet;tempArr.push(response.data.animal);_this.setState({favoritePet:tempArr});});});});};_this.componentDidMount=function(){_this.state.favoritePet&&console.log(_this.state.favoritePet);};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();console.log('editing user profile');// this.setState({\n//     firstname: \"\",\n//     lastname: \"\",\n//     email: \"\",\n//     password: \"\",\n//     useravatar: \"\"\n// });\nAxios.post(\"/api/profile\",{firstname:_this.state.firstname,lastname:_this.state.lastname,email:_this.state.email,password:_this.state.password,useravatar:_this.state.useravatar}).catch(function(error){console.log(error);});};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Welcome to your user page!\"),/*#__PURE__*/React.createElement(Nav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container updateForm\"},/*#__PURE__*/React.createElement(\"form\",{className:\"form\"},/*#__PURE__*/React.createElement(\"input\",{value:this.state.firstname,name:\"firstname\",onChange:this.handleInputChange,type:\"text\",placeholder:\"First Name\"}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.lastname,name:\"lastname\",onChange:this.handleInputChange,type:\"text\",placeholder:\"Last Name\"}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.email,name:\"email\",onChange:this.handleInputChange,type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.password,name:\"password\",onChange:this.handleInputChange,type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.useravatar,name:\"useravatar\",onChange:this.handleInputChange,type:\"file\",accept:\"image/*\",multiple:\"false\",placeholder:\"User Avatar\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleFormSubmit},\"Submit\"))),this.state.favoritePet&&/*#__PURE__*/React.createElement(Table,{data:this.state.favoritePet}));}}]);return Profile;}(Component);export default Profile;","map":{"version":3,"sources":["/Users/napsche/Desktop/Class/Project3/GitPets/client/src/components/Profile/profile.js"],"names":["React","Component","Axios","Nav","Table","Profile","state","firstname","lastname","email","password","useravatar","favoritePet","componentWillMount","get","then","data","console","log","map","search","post","searchid","response","tempArr","push","animal","setState","componentDidMount","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","catch","error"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport Nav from \"../Nav/nav\";\nimport Table from \"../Table/table\";\n\nclass Profile extends Component {\n    state = {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n        useravatar: \"\",\n        favoritePet: []\n    };\n\n    componentWillMount = () => {\n        Axios.get(\"/api/profile\")\n            .then((data) => {\n                console.log(data.data);\n                data.data.map(search => {\n                    Axios.post(\"/api/profilesearch\", {\n                        searchid: search.searchid\n                    })\n                        .then(response => {\n                            console.log(response);\n                            let tempArr = this.state.favoritePet;\n                            tempArr.push(response.data.animal);\n                            this.setState({ favoritePet: tempArr });\n                        })\n                })\n            })\n    }\n\n    componentDidMount = () => {\n        this.state.favoritePet && console.log(this.state.favoritePet); \n    }\n\n    //testFunction = () => {\n    //     Axios.get(\"/api/profile\")\n    //     .then((data) => {\n    //         console.log(data); \n    //     })\n    // }\n\n    //axios.get to profile gets user id associated w/ that animal, searchid\n    //want to get searchid for favorited animals and info assoc w/ that searchid from the api\n    //need to display the info for those favorited aniamls to the user\n\n    // When the profile page loads, make an API request to /api/profile.\n    // /api/profile returns data on the resultsCards that are associated with the user.\n    // We should now sort through that returned data to request the information about the specific search ID's from the git pets api.\n    // Something like\n    // axios.get(`gitpetsapisomething.com?id=${data.data.searchId}`)\n\n\n    handleInputChange = event => {\n        const { name, value } = event.target;\n\n        this.setState({\n            [name]: value\n        });\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n\n        console.log('editing user profile');\n        // this.setState({\n        //     firstname: \"\",\n        //     lastname: \"\",\n        //     email: \"\",\n        //     password: \"\",\n        //     useravatar: \"\"\n        // });\n\n        Axios.post(\"/api/profile\", {\n            firstname: this.state.firstname,\n            lastname: this.state.lastname,\n            email: this.state.email,\n            password: this.state.password,\n            useravatar: this.state.useravatar\n\n        })\n            .catch(function (error) {\n                console.log(error);\n            });\n    };\n\n    render() {\n        return (\n            <div>\n                <p>\n                    Welcome to your user page!\n                </p>\n                <Nav />\n                <div className=\"container updateForm\">\n                    <form className=\"form\">\n                        <input\n                            value={this.state.firstname}\n                            name=\"firstname\"\n                            onChange={this.handleInputChange}\n                            type=\"text\"\n                            placeholder=\"First Name\"\n                        />\n                        <input\n                            value={this.state.lastname}\n                            name=\"lastname\"\n                            onChange={this.handleInputChange}\n                            type=\"text\"\n                            placeholder=\"Last Name\"\n                        />\n                        <input\n                            value={this.state.email}\n                            name=\"email\"\n                            onChange={this.handleInputChange}\n                            type=\"text\"\n                            placeholder=\"Email\"\n                        />\n                        <input\n                            value={this.state.password}\n                            name=\"password\"\n                            onChange={this.handleInputChange}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                        <input\n                            value={this.state.useravatar}\n                            name=\"useravatar\"\n                            onChange={this.handleInputChange}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            multiple=\"false\"\n                            placeholder=\"User Avatar\"\n                        />\n                        <button onClick={this.handleFormSubmit}>Submit</button>\n\n                    </form>\n                </div>\n                {\n                    this.state.favoritePet && \n                    <Table \n                        data={this.state.favoritePet}\n                    />\n                }\n\n            </div>\n        );\n    }\n}\n\n\n\nexport default Profile;\n\n"]},"metadata":{},"sourceType":"module"}